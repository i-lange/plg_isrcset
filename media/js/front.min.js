const support=t=>window&&window[t],validAttribute=["data-src","data-srcset"],defaultConfig={rootMargin:"0px",threshold:0,enableAutoReload:!1,load(t){if("video"===t.nodeName.toLowerCase()&&!t.getAttribute("data-src")&&t.children){var e,r=t.children;for(let t=0;t<=r.length-1;t++)(e=r[t].getAttribute("data-src"))&&(r[t].src=e);t.load()}t.getAttribute("data-src")&&(t.src=t.getAttribute("data-src")),t.getAttribute("data-srcset")&&t.setAttribute("srcset",t.getAttribute("data-srcset"))},loaded(){}};function markAsLoaded(t){t.setAttribute("data-loaded",!0)}function preLoad(t){t.getAttribute("data-placeholder-background")&&(t.style.background=t.getAttribute("data-placeholder-background"))}const isLoaded=t=>"true"===t.getAttribute("data-loaded"),onIntersection=(r,a)=>(t,e)=>{t.forEach(t=>{(0<t.intersectionRatio||t.isIntersecting)&&(e.unobserve(t.target),isLoaded(t.target)||(r(t.target),markAsLoaded(t.target),a(t.target)))})},onMutation=e=>t=>{t.forEach(t=>{isLoaded(t.target)&&"attributes"===t.type&&-1<validAttribute.indexOf(t.attributeName)&&e(t.target)})},getElements=(t,e=document)=>t instanceof Element?[t]:t instanceof NodeList?t:e.querySelectorAll(t);function isrcset(t="[data-srcset]",e={}){const{root:r,rootMargin:a,threshold:o,enableAutoReload:s,load:d,loaded:i}=Object.assign({},defaultConfig,e);let n,l;support("IntersectionObserver")&&(n=new IntersectionObserver(onIntersection(d,i),{root:r,rootMargin:a,threshold:o})),support("MutationObserver")&&s&&(l=new MutationObserver(onMutation(d,i)));var u=getElements(t,r);for(let t=0;t<u.length;t++)preLoad(u[t]);return{observe(){var e=getElements(t,r);for(let t=0;t<e.length;t++)isLoaded(e[t])||(n?(l&&s&&l.observe(e[t],{subtree:!0,attributes:!0,attributeFilter:validAttribute}),n.observe(e[t])):(d(e[t]),markAsLoaded(e[t]),i(e[t])))},triggerLoad(t){isLoaded(t)||(d(t),markAsLoaded(t),i(t))},observer:n,mutationObserver:l}}isrcset("img[data-srcset]",{rootMargin:"100px 100px",threshold:.1,enableAutoReload:!0}).observe(),isrcset("iframe[data-src]",{rootMargin:"100px 0px",threshold:.1,enableAutoReload:!0}).observe();
//# sourceMappingURL=front.min.js.map